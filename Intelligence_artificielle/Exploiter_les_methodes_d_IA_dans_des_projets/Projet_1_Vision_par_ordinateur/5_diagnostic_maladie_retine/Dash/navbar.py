import dash_bootstrap_components as dbc
from dash import html, get_asset_url, callback, Output, Input, State
from dash_iconify import DashIconify

def navbar():
    return dbc.Navbar(
        dbc.Container(
            [
                html.A(
                    dbc.Row(
                        [
                            dbc.Col(html.Img(src=get_asset_url("Logo.png"), height="50rem")),
                            dbc.Col(dbc.NavbarBrand("RetinAI", className="ms-2", style= {"font-size" : "2rem"})),
                        ],
                        align="center",
                        className="me-1",
                    ),
                ),
                dbc.NavbarToggler(id='nav-toggler'),
                dbc.Collapse(dbc.Nav(
                    [
                        dbc.NavItem(dbc.NavLink(html.Div([DashIconify(icon='ion:home', width=30, className='me-1'),"Acceuil"], className='d-flex align-items-center fs-3'), active="exact", href="/")),
                        dbc.NavItem(dbc.NavLink(html.Div([DashIconify(icon='tabler:photo-ai', width=30, className='me-1'),"Pr√©diction"], className='d-flex align-items-center fs-3'), active="exact", href="/predict")),
                    ],
                    navbar=True,
                ), 
                id='nav-collapse'
                )
            ]
        ),
        color="dark",
        dark=True,
        className='p-1'
    )

@callback(
    Output("nav-collapse", "is_open"),
    Input("nav-toggler", "n_clicks"),
    State("nav-collapse", "is_open")
)
def nav_toggle(_, is_open):
    return not is_open