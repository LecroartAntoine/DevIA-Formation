Log of 2023-09-07 09:39:48.274502


Requête NLP : 

Montres moi les vins fruity


Résultat de l'API : 

{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "{\n    \"response\": {\n        \"email\": \"\",\n        \"query\": \"SELECT * FROM Vins WHERE couleur_vin = 'fruity'\",\n        \"result\": [\n            {\n                \"id_vin\": 1,\n                \"millesime_vin\": 2018,\n                \"date_vin\": \"2022-01-05\",\n                \"couleur_vin\": \"fruity\",\n                \"commentaire_vin\": \"Fruity and refreshing\",\n                \"numero_cuve\": \"C001\"\n            },\n            {\n                \"id_vin\": 2,\n                \"millesime_vin\": 2019,\n                \"date_vin\": \"2022-02-10\",\n                \"couleur_vin\": \"fruity\",\n                \"commentaire_vin\": \"Juicy and vibrant\",\n                \"numero_cuve\": \"C002\"\n            }\n        ]\n    }\n}",
        "role": "assistant"
      }
    }
  ],
  "created": 1694072388,
  "id": "chatcmpl-7w3u8hExQSwacU9ra0uHI7QUokfcT",
  "model": "gpt-3.5-turbo-0613",
  "object": "chat.completion",
  "usage": {
    "completion_tokens": 187,
    "prompt_tokens": 278,
    "total_tokens": 465
  }
}


Requête SQL extraite : 

{'email': '', 'query': "SELECT * FROM Vins WHERE couleur_vin = 'fruity'", 'result': [{'id_vin': 1, 'millesime_vin': 2018, 'date_vin': '2022-01-05', 'couleur_vin': 'fruity', 'commentaire_vin': 'Fruity and refreshing', 'numero_cuve': 'C001'}, {'id_vin': 2, 'millesime_vin': 2019, 'date_vin': '2022-02-10', 'couleur_vin': 'fruity', 'commentaire_vin': 'Juicy and vibrant', 'numero_cuve': 'C002'}]}


Erreur : 

arguments did not match any overloaded call:
  QSqlQuery(r: QSqlResult): argument 1 has unexpected type 'dict'
  QSqlQuery(query: str = '', db: QSqlDatabase = QSqlDatabase()): argument 1 has unexpected type 'dict'
  QSqlQuery(db: QSqlDatabase): argument 1 has unexpected type 'dict'
  QSqlQuery(other: QSqlQuery): argument 1 has unexpected type 'dict'


Résultat de la requête :

 'Montres moi les vins fruity' 


numero_cuve | volume_cuve | type_cuve | id_vin | date_tournee
CUV001 | 1000.0 | Oak | 1 | 2023-09-01
CUV002 | 800.0 | Stainless Steel | 2 | 2023-09-02
CUV003 | 1200.0 | Oak | 3 | 2023-09-03
CUV004 | 600.0 | Stainless Steel | 4 | 2023-09-04
CUV005 | 1500.0 | Oak | 5 | 2023-09-05
CUV006 | 900.0 | Stainless Steel | 6 | 2023-09-06
CUV007 | 1100.0 | Oak | 7 | 2023-09-07
CUV008 | 750.0 | Stainless Steel | 8 | 2023-09-08
CUV009 | 1300.0 | Oak | 9 | 2023-09-09
CUV010 | 850.0 | Stainless Steel | 10 | 2023-09-10



